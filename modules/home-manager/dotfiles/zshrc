function squish {
  if [ -z "$1" ]; then
    BRANCH=origin/master
  else
    BRANCH=$1
  fi
  git rebase -i $(git merge-base -a HEAD $BRANCH)
}

toggle-audio () {
	if [[ "$(SwitchAudioSource -c)" == "Shure MV7" ]]
	then
		SwitchAudioSource -s 'CalDigit TS4 Audio - Rear'
	else
		SwitchAudioSource -s 'Shure MV7'
	fi
}

# Cached kubectl completion (regenerate with: kubectl completion zsh > ~/.cache/kubectl-completion.zsh)
if [[ -f ~/.cache/kubectl-completion.zsh ]]; then
  source ~/.cache/kubectl-completion.zsh
else
  mkdir -p ~/.cache
  kubectl completion zsh > ~/.cache/kubectl-completion.zsh 2>/dev/null && source ~/.cache/kubectl-completion.zsh
fi
compdef kubecolor=kubectl

# Cached dagger completion (regenerate with: dagger completion zsh > ~/.cache/dagger-completion.zsh)
if [[ -f ~/.cache/dagger-completion.zsh ]]; then
  source ~/.cache/dagger-completion.zsh
else
  mkdir -p ~/.cache
  dagger completion zsh > ~/.cache/dagger-completion.zsh 2>/dev/null && source ~/.cache/dagger-completion.zsh
fi
compdef _dagger dagger

# Source ~/.env if it exists (set -a auto-exports all variables)
[[ -f ~/.env ]] && { set -a; source ~/.env; set +a; }

bindkey '^a' autosuggest-accept
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=#8ce6e6"
export PATH="${KREW_ROOT:-$HOME/.krew}/bin:$PATH"
